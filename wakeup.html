<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wakeup</title>
  <link rel = stylesheet href = "styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap">
  <link rel = "stylesheet" href = "wakeup.css">
  <link rel = "stylesheet" href = "config.css">

</head>
<body>

  <header id="header">
    <div class="main-div">
        <div id="logo">
            <a href="index.html">
            <img id="cat" src="images/catYawn.png" alt="cat yawning logo">
            </a>
        </div>
        <h1 id="home"><a href="index.html">Gentle Wake</a></h1>
        <div id="nav-bar">
            <div class="nav-button"><a class="nav-a" href="about.html">About</a></div>
            <div class="nav-button"><a class="nav-a" href="calendar.html">Calendar</a></div>
            <div class="nav-button"><a class="nav-a" href="config.html">Add Event</a></div>
            <div class="nav-button"><a class="nav-a" href="credits.html">Credits</a></div>
            <div class="nav-button dropdown"
                style="color:orange">Account
                <div class="dropdown-content">
                    <a id="dropdown-login" href="index.html">Login</a>
                    <a id="dropdown-reg" href="registration.html">Register</a>
                </div>
            </div>
        </div>
    </div>

</header>

<!-- <h1 id = "credits-header">Events Page</h1> -->

<!-- Login Form -->
<!-- <form id="loginForm">
  <label for="username">Username:</label>
  <input type="text" id="username" required>

  <label for="password">Password:</label>
  <input type="password" id="password" required>

  <button type="button" onclick="login()">Login</button>
</form> -->

<main id = "main-section">
  <div id="login-error-msg-holder">
    <p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
  </div>
  <form id="login-form">
    <input type="text" id="wakeup-username" class = "login-form-field" placeholder="Username" required>

    <input type="password" id="wakeup-password" class = "login-form-field" placeholder="Password" required>

    <button type="button" id = "login-form-submit" onclick="login()">Login</button>
  </form> 
</main>





<!-- Display Events -->
<div id="eventsContainer" style="display:none;">
  <h2 id = "wakeup-upcoming">Upcoming Events</h2>
  <ul id="eventList"></ul>
</div>

<div id = "gradients" style = "display:none;">
<label id = "gradientLabel" for="gradientSelect">Select Gradient:</label>
<select id="gradientSelect">
  <option value="linear-gradient(to bottom, #0D2174, #AC5C10)">Blue to Orange (Original)</option>
  <option value="linear-gradient(to bottom, #4CAF50, #2196F3)">Green to Blue</option>
  <option value="linear-gradient(to bottom, #FF5252, #FFD740)">Red to Yellow</option>
  <option value="linear-gradient(to bottom, #673AB7, #FF4081)">Purple to Pink</option>
</select>
<button id = "applyGradient" type="button" onclick="applySelectedGradient()">Apply Gradient</button>
</div>



<script src="app.js"></script>
<script src = "wakeup.js"></script>
<script>
  function updateNavigationBar(isLoggedIn, username) {
    const dropdownLogin = document.getElementById('dropdown-login');
    const originalLogin = document.getElementById('original-login-content');
    const originalRegister = document.getElementById('original-register-content');

    if (isLoggedIn) {
      dropdownLogin.textContent = 'Logout';
      dropdownLogin.href = '#';
      dropdownLogin.removeEventListener('click', handleLogout);
      dropdownLogin.addEventListener('click', handleLogout);

      originalLogin.style.display = 'none';
      originalRegister.style.display = 'none';
    } else {
      dropdownLogin.textContent = 'Login';
      dropdownLogin.href = 'index.html';
      originalLogin.style.display = 'block';
      originalRegister.style.display = 'block';
    }
  }

  function handleLogout() {
    localStorage.removeItem('isLoggedIn');
    localStorage.removeItem('username');
    window.location.reload();
  }

  document.addEventListener('DOMContentLoaded', function () {
    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
    const username = localStorage.getItem('username');
    updateNavigationBar(isLoggedIn, username);
  });
</script>
</body>
</html>